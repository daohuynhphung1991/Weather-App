const express = require('express');
const path = require('path');
const unirest = require('unirest');

const credentials = require('./apiCredentials.json');

const app = express();

// Serve the static files from the React app
app.use(express.static(path.join(__dirname, 'client/build')));

// An api endpoint that returns a short list of items
app.get('/weather', (req,res) => {
    const { lat, lon, timezone } = req.query;

    let request = '';
    if(timezone){
        request = unirest("GET", `https://api.darksky.net/forecast/7df7dc79ba7dbdf4839294da872ffc81/${lat},${lon},${timezone}`);
    } else{
        request = unirest("GET", `https://api.darksky.net/forecast/7df7dc79ba7dbdf4839294da872ffc81/${lat},${lon}`);
    }

    request.headers({
        "x-rapidapi-host": credentials.host,
        "x-rapidapi-key": credentials.apiKey
    });
    request.end(response => {
        if (response.error) res.status(500).end(); // Send an error code to the client if there's an error
        const {
            timezone,
            currently,
            hourly,
            daily,
            flags
        } = response.body; // Pull out everything we need from the response
        res.status(200).send(
            JSON.stringify({
                timezone: timezone,
                currently: currently,
                hourly: hourly,
                daily: daily,
                flags: flags
            }),
        );
    });
    // res.status(200).send(
    //     JSON.stringify(
    //         {"latitude":10.75,"longitude":106.6667,"timezone":"Asia/Ho_Chi_Minh","currently":{"time":1579871305,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":78.78,"apparentTemperature":81.55,"dewPoint":71.35,"humidity":0.78,"pressure":1011.9,"windSpeed":9.38,"windGust":21.07,"windBearing":137,"cloudCover":0.09,"uvIndex":0,"visibility":10,"ozone":247.9},"hourly":{"summary":"Humid and partly cloudy throughout the day.","icon":"partly-cloudy-day","data":[{"time":1579870800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":79.02,"apparentTemperature":82.02,"dewPoint":71.36,"humidity":0.77,"pressure":1011.8,"windSpeed":9.49,"windGust":21.09,"windBearing":137,"cloudCover":0.11,"uvIndex":0,"visibility":10,"ozone":247.8},{"time":1579874400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":77.67,"apparentTemperature":78.95,"dewPoint":71.39,"humidity":0.81,"pressure":1012.4,"windSpeed":8.69,"windGust":20.59,"windBearing":135,"cloudCover":0.03,"uvIndex":0,"visibility":10,"ozone":248.4},{"time":1579878000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":76.54,"apparentTemperature":77.86,"dewPoint":71.45,"humidity":0.84,"pressure":1012.7,"windSpeed":8.02,"windGust":20.13,"windBearing":134,"cloudCover":0.01,"uvIndex":0,"visibility":10,"ozone":249},{"time":1579881600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":75.55,"apparentTemperature":76.89,"dewPoint":71.39,"humidity":0.87,"pressure":1012.6,"windSpeed":7.61,"windGust":20.18,"windBearing":135,"cloudCover":0.2,"uvIndex":0,"visibility":10,"ozone":249.7},{"time":1579885200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.05,"apparentTemperature":76.4,"dewPoint":71.36,"humidity":0.88,"pressure":1012.4,"windSpeed":7.58,"windGust":20.25,"windBearing":137,"cloudCover":0.33,"uvIndex":0,"visibility":10,"ozone":250.3},{"time":1579888800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.17,"apparentTemperature":76.54,"dewPoint":71.43,"humidity":0.88,"pressure":1011.9,"windSpeed":7.57,"windGust":19.91,"windBearing":141,"cloudCover":0.42,"uvIndex":0,"visibility":10,"ozone":250.6},{"time":1579892400,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.18,"apparentTemperature":76.53,"dewPoint":71.35,"humidity":0.88,"pressure":1011.1,"windSpeed":7.73,"windGust":18.71,"windBearing":140,"cloudCover":0.38,"uvIndex":0,"visibility":10,"ozone":250.1},{"time":1579896000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.08,"apparentTemperature":76.4,"dewPoint":71.16,"humidity":0.88,"pressure":1010.5,"windSpeed":7.37,"windGust":17.06,"windBearing":137,"cloudCover":0.39,"uvIndex":0,"visibility":10,"ozone":249},{"time":1579899600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.03,"apparentTemperature":76.36,"dewPoint":71.12,"humidity":0.88,"pressure":1010.5,"windSpeed":6.79,"windGust":16.01,"windBearing":134,"cloudCover":0.46,"uvIndex":0,"visibility":10,"ozone":248.3},{"time":1579903200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":74.84,"apparentTemperature":76.19,"dewPoint":71.25,"humidity":0.89,"pressure":1011,"windSpeed":6.33,"windGust":16.37,"windBearing":134,"cloudCover":0.58,"uvIndex":0,"visibility":10,"ozone":248.3},{"time":1579906800,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":74.84,"apparentTemperature":76.23,"dewPoint":71.49,"humidity":0.89,"pressure":1011.9,"windSpeed":6.1,"windGust":17.35,"windBearing":133,"cloudCover":0.62,"uvIndex":0,"visibility":10,"ozone":248.6},{"time":1579910400,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":76.05,"apparentTemperature":77.48,"dewPoint":72.13,"humidity":0.88,"pressure":1012.5,"windSpeed":6.32,"windGust":17.32,"windBearing":130,"cloudCover":0.59,"uvIndex":0,"visibility":10,"ozone":248.5},{"time":1579914000,"summary":"Humid and Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":78.92,"apparentTemperature":82.12,"dewPoint":72.7,"humidity":0.81,"pressure":1013,"windSpeed":7.8,"windGust":15.27,"windBearing":120,"cloudCover":0.44,"uvIndex":1,"visibility":10,"ozone":247.5},{"time":1579917600,"summary":"Humid and Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":82.91,"apparentTemperature":88.84,"dewPoint":73.11,"humidity":0.72,"pressure":1013.3,"windSpeed":9.16,"windGust":12.25,"windBearing":116,"cloudCover":0.32,"uvIndex":4,"visibility":10,"ozone":246.1},{"time":1579921200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":86.49,"apparentTemperature":92.71,"dewPoint":71.79,"humidity":0.62,"pressure":1013.2,"windSpeed":9.79,"windGust":9.87,"windBearing":114,"cloudCover":0.3,"uvIndex":6,"visibility":10,"ozone":245.2},{"time":1579924800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":89.26,"apparentTemperature":94.39,"dewPoint":69.73,"humidity":0.53,"pressure":1012.6,"windSpeed":10.01,"windGust":10.01,"windBearing":118,"cloudCover":0.24,"uvIndex":9,"visibility":10,"ozone":245.1},{"time":1579928400,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":91.35,"apparentTemperature":95.61,"dewPoint":68.14,"humidity":0.47,"pressure":1011.6,"windSpeed":9.83,"windGust":9.83,"windBearing":125,"cloudCover":0.41,"uvIndex":9,"visibility":10,"ozone":245.3},{"time":1579932000,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":92.73,"apparentTemperature":96.96,"dewPoint":67.79,"humidity":0.44,"pressure":1010.5,"windSpeed":10.24,"windGust":10.24,"windBearing":133,"cloudCover":0.46,"uvIndex":8,"visibility":10,"ozone":245.4},{"time":1579935600,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":92.32,"apparentTemperature":97.2,"dewPoint":68.71,"humidity":0.46,"pressure":1009.6,"windSpeed":11.87,"windGust":11.87,"windBearing":141,"cloudCover":0.57,"uvIndex":6,"visibility":10,"ozone":244.7},{"time":1579939200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":90.64,"apparentTemperature":96.75,"dewPoint":70.55,"humidity":0.52,"pressure":1009.1,"windSpeed":13.99,"windGust":14.31,"windBearing":148,"cloudCover":0.65,"uvIndex":4,"visibility":10,"ozone":243.7},{"time":1579942800,"summary":"Humid and Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":88.45,"apparentTemperature":96.16,"dewPoint":72.82,"humidity":0.6,"pressure":1009,"windSpeed":14.7,"windGust":16.08,"windBearing":151,"cloudCover":0.54,"uvIndex":2,"visibility":10,"ozone":243.2},{"time":1579946400,"summary":"Humid and Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":85.77,"apparentTemperature":94.39,"dewPoint":74.73,"humidity":0.7,"pressure":1009.5,"windSpeed":13.82,"windGust":18.09,"windBearing":152,"cloudCover":0.46,"uvIndex":0,"visibility":10,"ozone":243.3},{"time":1579950000,"summary":"Humid and Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":82.01,"apparentTemperature":88.87,"dewPoint":75.3,"humidity":0.8,"pressure":1010.2,"windSpeed":12.03,"windGust":19.7,"windBearing":153,"cloudCover":0.34,"uvIndex":0,"visibility":10,"ozone":244},{"time":1579953600,"summary":"Humid","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":78.96,"apparentTemperature":82.7,"dewPoint":75.07,"humidity":0.88,"pressure":1011,"windSpeed":9.93,"windGust":20.76,"windBearing":150,"cloudCover":0.28,"uvIndex":0,"visibility":10,"ozone":244.7},{"time":1579957200,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":77.21,"apparentTemperature":78.97,"dewPoint":74.77,"humidity":0.92,"pressure":1011.3,"windSpeed":9.39,"windGust":21.15,"windBearing":145,"cloudCover":0.62,"uvIndex":0,"visibility":10,"ozone":245.3},{"time":1579960800,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":76.3,"apparentTemperature":77.98,"dewPoint":74,"humidity":0.93,"pressure":1012,"windSpeed":8.42,"windGust":20.98,"windBearing":139,"cloudCover":0.71,"uvIndex":0,"visibility":10,"ozone":246.2},{"time":1579964400,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":75.61,"apparentTemperature":77.25,"dewPoint":73.55,"humidity":0.93,"pressure":1012.5,"windSpeed":7.7,"windGust":20.28,"windBearing":135,"cloudCover":0.78,"uvIndex":0,"visibility":10,"ozone":246.9},{"time":1579968000,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":74.67,"apparentTemperature":76.31,"dewPoint":73.2,"humidity":0.95,"pressure":1012,"windSpeed":7.18,"windGust":19.09,"windBearing":131,"cloudCover":0.82,"uvIndex":0,"visibility":10,"ozone":247.8},{"time":1579971600,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":73.95,"apparentTemperature":75.59,"dewPoint":72.99,"humidity":0.97,"pressure":1011.3,"windSpeed":6.8,"windGust":17.36,"windBearing":129,"cloudCover":0.84,"uvIndex":0,"visibility":10,"ozone":248.7},{"time":1579975200,"summary":"Humid and Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":73.48,"apparentTemperature":75.1,"dewPoint":72.64,"humidity":0.97,"pressure":1010.9,"windSpeed":6.29,"windGust":15.23,"windBearing":128,"cloudCover":0.87,"uvIndex":0,"visibility":10,"ozone":249.4},{"time":1579978800,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":73.06,"apparentTemperature":74.67,"dewPoint":72.42,"humidity":0.98,"pressure":1010.5,"windSpeed":5.46,"windGust":12.28,"windBearing":129,"cloudCover":0.92,"uvIndex":0,"visibility":10,"ozone":249.5},{"time":1579982400,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":72.76,"apparentTemperature":74.36,"dewPoint":72.25,"humidity":0.98,"pressure":1010.6,"windSpeed":4.52,"windGust":8.91,"windBearing":131,"cloudCover":0.97,"uvIndex":0,"visibility":10,"ozone":249.4},{"time":1579986000,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":72.6,"apparentTemperature":74.19,"dewPoint":72.19,"humidity":0.99,"pressure":1010.6,"windSpeed":3.77,"windGust":6.47,"windBearing":130,"cloudCover":1,"uvIndex":0,"visibility":10,"ozone":249.2},{"time":1579989600,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":72.35,"apparentTemperature":73.98,"dewPoint":72.34,"humidity":1,"pressure":1010.9,"windSpeed":3.31,"windGust":5.63,"windBearing":127,"cloudCover":1,"uvIndex":0,"visibility":10,"ozone":249.1},{"time":1579993200,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0.0003,"precipProbability":0.06,"precipType":"rain","temperature":72.42,"apparentTemperature":74.09,"dewPoint":72.42,"humidity":1,"pressure":1011.6,"windSpeed":3.05,"windGust":5.71,"windBearing":121,"cloudCover":1,"uvIndex":0,"visibility":10,"ozone":248.9},{"time":1579996800,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0.0003,"precipProbability":0.06,"precipType":"rain","temperature":73.84,"apparentTemperature":75.46,"dewPoint":72.81,"humidity":0.97,"pressure":1012.1,"windSpeed":2.97,"windGust":5.77,"windBearing":119,"cloudCover":1,"uvIndex":0,"visibility":10,"ozone":248.8},{"time":1580000400,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":77.32,"apparentTemperature":78.99,"dewPoint":74.24,"humidity":0.9,"pressure":1012.6,"windSpeed":3.24,"windGust":5.53,"windBearing":126,"cloudCover":1,"uvIndex":1,"visibility":10,"ozone":248.9},{"time":1580004000,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":81.88,"apparentTemperature":88.06,"dewPoint":74.41,"humidity":0.78,"pressure":1013,"windSpeed":3.78,"windGust":5.26,"windBearing":133,"cloudCover":1,"uvIndex":3,"visibility":10,"ozone":249.2},{"time":1580007600,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":85.4,"apparentTemperature":92.23,"dewPoint":72.91,"humidity":0.66,"pressure":1012.8,"windSpeed":4.21,"windGust":4.88,"windBearing":138,"cloudCover":1,"uvIndex":4,"visibility":10,"ozone":249.3},{"time":1580011200,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":88.26,"apparentTemperature":94.02,"dewPoint":70.73,"humidity":0.56,"pressure":1012.1,"windSpeed":4.05,"windGust":4.25,"windBearing":137,"cloudCover":1,"uvIndex":5,"visibility":10,"ozone":248.9},{"time":1580014800,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":90.81,"apparentTemperature":95.7,"dewPoint":69.07,"humidity":0.49,"pressure":1010.7,"windSpeed":3.71,"windGust":3.95,"windBearing":132,"cloudCover":1,"uvIndex":5,"visibility":10,"ozone":248.6},{"time":1580018400,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":92.99,"apparentTemperature":97.62,"dewPoint":68.24,"humidity":0.45,"pressure":1009.5,"windSpeed":4.12,"windGust":4.29,"windBearing":132,"cloudCover":1,"uvIndex":5,"visibility":10,"ozone":248.1},{"time":1580022000,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":93.39,"apparentTemperature":97.58,"dewPoint":67.58,"humidity":0.43,"pressure":1008.7,"windSpeed":6.12,"windGust":6.12,"windBearing":140,"cloudCover":1,"uvIndex":5,"visibility":10,"ozone":248.1},{"time":1580025600,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":92.67,"apparentTemperature":96.74,"dewPoint":67.58,"humidity":0.44,"pressure":1007.9,"windSpeed":8.91,"windGust":8.91,"windBearing":151,"cloudCover":1,"uvIndex":3,"visibility":10,"ozone":248.1},{"time":1580029200,"summary":"Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":90.98,"apparentTemperature":95.85,"dewPoint":69,"humidity":0.49,"pressure":1007.5,"windSpeed":10.92,"windGust":10.92,"windBearing":160,"cloudCover":1,"uvIndex":2,"visibility":10,"ozone":248.2},{"time":1580032800,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":87.81,"apparentTemperature":94.6,"dewPoint":72.05,"humidity":0.6,"pressure":1007.8,"windSpeed":11.6,"windGust":11.6,"windBearing":159,"cloudCover":0.96,"uvIndex":0,"visibility":10,"ozone":248.1},{"time":1580036400,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":83.02,"apparentTemperature":90,"dewPoint":74.48,"humidity":0.76,"pressure":1008.5,"windSpeed":11.57,"windGust":15.78,"windBearing":155,"cloudCover":0.91,"uvIndex":0,"visibility":10,"ozone":248},{"time":1580040000,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":79.06,"apparentTemperature":82.84,"dewPoint":74.69,"humidity":0.87,"pressure":1009.3,"windSpeed":11.17,"windGust":19.34,"windBearing":149,"cloudCover":0.88,"uvIndex":0,"visibility":10,"ozone":248.2},{"time":1580043600,"summary":"Humid and Overcast","icon":"cloudy","precipIntensity":0,"precipProbability":0,"temperature":77.07,"apparentTemperature":78.78,"dewPoint":74.37,"humidity":0.91,"pressure":1010,"windSpeed":10.38,"windGust":19.99,"windBearing":147,"cloudCover":0.88,"uvIndex":0,"visibility":10,"ozone":249.2}]},"daily":{"summary":"No precipitation throughout the week.","icon":"clear-day","data":[{"time":1579798800,"summary":"Partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1579821480,"sunsetTime":1579863300,"moonPhase":0.99,"precipIntensity":0,"precipIntensityMax":0.0002,"precipIntensityMaxTime":1579845600,"precipProbability":0.04,"temperatureHigh":95.19,"temperatureHighTime":1579849560,"temperatureLow":74.26,"temperatureLowTime":1579905480,"apparentTemperatureHigh":94.81,"apparentTemperatureHighTime":1579851240,"apparentTemperatureLow":76.12,"apparentTemperatureLowTime":1579905360,"dewPoint":66.67,"humidity":0.65,"pressure":1012.2,"windSpeed":7.56,"windGust":21.1,"windGustTime":1579870140,"windBearing":124,"cloudCover":0.52,"uvIndex":7,"uvIndexTime":1579842720,"visibility":10,"ozone":250.9,"temperatureMin":71.78,"temperatureMinTime":1579816500,"temperatureMax":95.19,"temperatureMaxTime":1579849560,"apparentTemperatureMin":73.18,"apparentTemperatureMinTime":1579816560,"apparentTemperatureMax":94.81,"apparentTemperatureMaxTime":1579851240},{"time":1579885200,"summary":"Humid and partly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1579907880,"sunsetTime":1579949700,"moonPhase":0.02,"precipIntensity":0,"precipIntensityMax":0.0002,"precipIntensityMaxTime":1579958700,"precipProbability":0.04,"temperatureHigh":93.28,"temperatureHighTime":1579932840,"temperatureLow":71.79,"temperatureLowTime":1579991640,"apparentTemperatureHigh":97.21,"apparentTemperatureHighTime":1579934700,"apparentTemperatureLow":73.94,"apparentTemperatureLowTime":1579991460,"dewPoint":72,"humidity":0.77,"pressure":1011.3,"windSpeed":9.22,"windGust":21.16,"windGustTime":1579957860,"windBearing":137,"cloudCover":0.5,"uvIndex":9,"uvIndexTime":1579926180,"visibility":10,"ozone":246.6,"temperatureMin":73.46,"temperatureMinTime":1579971600,"temperatureMax":93.28,"temperatureMaxTime":1579932840,"apparentTemperatureMin":75.59,"apparentTemperatureMinTime":1579971600,"apparentTemperatureMax":97.21,"apparentTemperatureMaxTime":1579934700},{"time":1579971600,"summary":"Humid and overcast throughout the day.","icon":"cloudy","sunriseTime":1579994280,"sunsetTime":1580036160,"moonPhase":0.05,"precipIntensity":0.0001,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1579995960,"precipProbability":0.08,"precipType":"rain","temperatureHigh":93.91,"temperatureHighTime":1580021160,"temperatureLow":70.55,"temperatureLowTime":1580078700,"apparentTemperatureHigh":97.78,"apparentTemperatureHighTime":1580019780,"apparentTemperatureLow":72.67,"apparentTemperatureLowTime":1580078640,"dewPoint":72.11,"humidity":0.79,"pressure":1010.5,"windSpeed":6.43,"windGust":20.02,"windGustTime":1580042820,"windBearing":143,"cloudCover":0.95,"uvIndex":5,"uvIndexTime":1580015340,"visibility":10,"ozone":249.1,"temperatureMin":71.79,"temperatureMinTime":1579991640,"temperatureMax":93.91,"temperatureMaxTime":1580021160,"apparentTemperatureMin":73.94,"apparentTemperatureMinTime":1579991460,"apparentTemperatureMax":97.78,"apparentTemperatureMaxTime":1580019780},{"time":1580058000,"summary":"Humid and mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1580080680,"sunsetTime":1580122560,"moonPhase":0.08,"precipIntensity":0.0001,"precipIntensityMax":0.0003,"precipIntensityMaxTime":1580109600,"precipProbability":0.11,"precipType":"rain","temperatureHigh":92.39,"temperatureHighTime":1580105580,"temperatureLow":73.48,"temperatureLowTime":1580146140,"apparentTemperatureHigh":97.55,"apparentTemperatureHighTime":1580105220,"apparentTemperatureLow":75.77,"apparentTemperatureLowTime":1580146320,"dewPoint":72.79,"humidity":0.82,"pressure":1010.2,"windSpeed":8.46,"windGust":22.16,"windGustTime":1580131980,"windBearing":149,"cloudCover":0.73,"uvIndex":5,"uvIndexTime":1580101680,"visibility":10,"ozone":246.3,"temperatureMin":70.55,"temperatureMinTime":1580078700,"temperatureMax":92.39,"temperatureMaxTime":1580105580,"apparentTemperatureMin":72.67,"apparentTemperatureMinTime":1580078640,"apparentTemperatureMax":97.55,"apparentTemperatureMaxTime":1580105220},{"time":1580144400,"summary":"Humid and overcast throughout the day.","icon":"cloudy","sunriseTime":1580167080,"sunsetTime":1580208960,"moonPhase":0.11,"precipIntensity":0.0001,"precipIntensityMax":0.0004,"precipIntensityMaxTime":1580179920,"precipProbability":0.11,"precipType":"rain","temperatureHigh":93.12,"temperatureHighTime":1580194620,"temperatureLow":72.01,"temperatureLowTime":1580241600,"apparentTemperatureHigh":95.78,"apparentTemperatureHighTime":1580194740,"apparentTemperatureLow":74.23,"apparentTemperatureLowTime":1580241600,"dewPoint":72.78,"humidity":0.8,"pressure":1010.8,"windSpeed":7.71,"windGust":20.57,"windGustTime":1580218440,"windBearing":146,"cloudCover":0.97,"uvIndex":6,"uvIndexTime":1580187300,"visibility":10,"ozone":245.8,"temperatureMin":72.85,"temperatureMinTime":1580230800,"temperatureMax":93.12,"temperatureMaxTime":1580194620,"apparentTemperatureMin":75.16,"apparentTemperatureMinTime":1580230800,"apparentTemperatureMax":95.78,"apparentTemperatureMaxTime":1580194740},{"time":1580230800,"summary":"Humid and mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1580253480,"sunsetTime":1580295420,"moonPhase":0.14,"precipIntensity":0.0001,"precipIntensityMax":0.0004,"precipIntensityMaxTime":1580245620,"precipProbability":0.09,"precipType":"rain","temperatureHigh":94.44,"temperatureHighTime":1580281560,"temperatureLow":72.44,"temperatureLowTime":1580338380,"apparentTemperatureHigh":96.54,"apparentTemperatureHighTime":1580282640,"apparentTemperatureLow":74.75,"apparentTemperatureLowTime":1580338320,"dewPoint":72.44,"humidity":0.8,"pressure":1012,"windSpeed":6.71,"windGust":23.03,"windGustTime":1580314740,"windBearing":141,"cloudCover":0.86,"uvIndex":7,"uvIndexTime":1580275260,"visibility":10,"ozone":243.8,"temperatureMin":72.01,"temperatureMinTime":1580241600,"temperatureMax":94.44,"temperatureMaxTime":1580281560,"apparentTemperatureMin":74.23,"apparentTemperatureMinTime":1580241600,"apparentTemperatureMax":96.54,"apparentTemperatureMaxTime":1580282640},{"time":1580317200,"summary":"Humid and mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1580339880,"sunsetTime":1580381820,"moonPhase":0.17,"precipIntensity":0.0002,"precipIntensityMax":0.0009,"precipIntensityMaxTime":1580342340,"precipProbability":0.15,"precipType":"rain","temperatureHigh":94.64,"temperatureHighTime":1580367360,"temperatureLow":72.85,"temperatureLowTime":1580424900,"apparentTemperatureHigh":97.14,"apparentTemperatureHighTime":1580368320,"apparentTemperatureLow":75,"apparentTemperatureLowTime":1580424840,"dewPoint":72.62,"humidity":0.79,"pressure":1011.9,"windSpeed":6.21,"windGust":23.39,"windGustTime":1580389260,"windBearing":109,"cloudCover":0.87,"uvIndex":6,"uvIndexTime":1580362860,"visibility":10,"ozone":244.6,"temperatureMin":72.44,"temperatureMinTime":1580338380,"temperatureMax":94.64,"temperatureMaxTime":1580367360,"apparentTemperatureMin":74.75,"apparentTemperatureMinTime":1580338320,"apparentTemperatureMax":97.14,"apparentTemperatureMaxTime":1580368320},{"time":1580403600,"summary":"Humid and mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1580426280,"sunsetTime":1580468280,"moonPhase":0.2,"precipIntensity":0,"precipIntensityMax":0,"precipIntensityMaxTime":1580490000,"precipProbability":0,"temperatureHigh":92.06,"temperatureHighTime":1580455860,"temperatureLow":71.37,"temperatureLowTime":1580513280,"apparentTemperatureHigh":93.21,"apparentTemperatureHighTime":1580456340,"apparentTemperatureLow":73.37,"apparentTemperatureLowTime":1580513340,"dewPoint":70.4,"humidity":0.75,"pressure":1012,"windSpeed":7.71,"windGust":26.24,"windGustTime":1580476740,"windBearing":122,"cloudCover":0.88,"uvIndex":7,"uvIndexTime":1580445720,"visibility":10,"ozone":243.4,"temperatureMin":72.85,"temperatureMinTime":1580424900,"temperatureMax":92.06,"temperatureMaxTime":1580455860,"apparentTemperatureMin":75,"apparentTemperatureMinTime":1580424840,"apparentTemperatureMax":93.21,"apparentTemperatureMaxTime":1580456340}]},"flags":{"sources":["cmc","gfs","icon","isd","madis"],"nearest-station":4.584,"units":"us"},"offset":7}
    //     ),
    // );
    // console.log('Sent list of items');
});

// Handles any requests that don't match the ones above
app.get('*', (req,res) =>{
    res.sendFile(path.join(__dirname+'/client/build/index.html'));
});

const port = process.env.PORT || 5000;
app.listen(port);

console.log('App is listening on port ' + port);